aspsms-t by Marco Balmer <ml-git@micressor.ch> @2009
----------------------------------------------------
Check this site for the latest version of this software.
http://web.swissjabber.ch/index.php/Aspsms-t
http://github.com/micressor/aspsms-t


Features
--------
* It supports simple text SMS with a maximum of 160 characters. If your message 
  is >160 characters, aspsms-t will split it automatically in more than one 
  part.
* Support for Arabic and other oriental characters up to 87 characters each sms.
* Delivery notification for each sms with a unique transaction number
* It can set alphanumeric originator of every sms. This can be a mobile phone 
  or a short text with a maximum of 11 characters.


Requirements for Debian
-----------------------
apt-get install libnet-jabber-perl libnet-xmpp-perl libobject-multitype-perl libauthen-sasl-perl libdigest-sha1-perl libxml-smart-perl libxml-parser-perl libwww-perl liburi-perl libunicode-string-perl wget libfile-pid-perl


Overview
--------
aspsms-t is an open source /*GPL*/ 
(http://www.fsf.org/licensing/licenses/gpl.txt) jabber2sms transport, which 
allows you to send sms messages over the jabber network through the 
gateway-system of aspsms.com (https://www.aspsms.com). A lot of networks are 
supported.

Normal TextSMS messages usually costs 1 aspsms Credit. aspsms-t deliver very 
fast and will send you a jabber status message. A second message will receive,
if your sms was successfully delivered to the mobile device.


Configuration with jabbed14
---------------------------
1) Add the following lines to jabber.xml for jabberd14:

<service id='sms-linker'>
 <host>sms.domain.ch</host>
 <accept>
  <ip>127.0.0.1</ip>
  <port>5245</port>
  <secret>secret</secret>
  <timeout>30</timeout>
 </accept>
</service>

Restart your jabberd.

Configuration with ejabberd
---------------------------
vi ejabberd.cfg:
%% ASPSMS Transport
{5245, ejabberd_service, [
			{ip, {127, 0, 0, 1}},
			{access, all},
			{host, "aspsms.domain.tld", [{password, "secret"}]}
			]},


DNS configuration
-----------------
Add the SRV Record to the dns zone:
_xmpp-server._tcp.sms.domain.ch. 900 IN SRV 1 1 5269 domain.ch.

Restart your nameserver.


aspsms-t configuration
----------------------
1. Copy ./etc/aspsms-t.xml.dist to aspsms.xml and configure it
2. (optional) Configuring the delivery notification agent 

Running
-------
$ cd $ASPSMS_DIR
$ ./bin/aspsms-t.pl -c /etc/aspsms-t.xml


aspsms-t web notification (optional)
------------------------------------
  $ cd /home/www/website
  $ mkdir aspsms
  $ mkdir aspsms/etc
  $ cd aspsms
  $ cp $SRC/aspsms-t.notify.pl .
  $ cp $SRC/etc/aspsms-t.notify.xml.dist etc/aspsms-aspsms-t.notify.xml
  $ chmod 755 aspsms-t.notify.pl aspsms-t.notify.xml
  $ vi ./etc/.htaccess
	order deny,allow
	deny from all
  $ chmod 750 ./etc/.htaccess

* Configuring the aspsms-t.notify.xml configuration file.
